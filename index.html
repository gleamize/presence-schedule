<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>ゴミ回収ペア表（ライト＋役割カラー）</title>
<style>
  /* ====== Light theme + Role colors ====== */
  :root{
    --bg:#f6f8fb;
    --card:#ffffff;
    --ink:#0f172a;
    --muted:#667085;
    --line:#e5e7eb;
    --accent:#1158c7;
    --accent-2:#1e88ff;
    --shadow:0 4px 16px rgba(15,23,42,.08);

    /* 役割カラー */
    --upper:#1e88ff;         /* 上階：ブルー */
    --lower:#7c3aed;         /* 下階：パープル */
    --vac:#16a34a;           /* バキューム：グリーン */

    --chip:#f3f6fb;          /* チップ背景 */
    --chip-line:#dbe2ef;
    --radius:14px;
  }

  html,body{height:100%}
  body{
    margin:0;
    background:
      radial-gradient(70vw 60vh at 100% -10%, #e7f1ff88, transparent),
      radial-gradient(50vw 40vh at -10% 10%, #eaf2ff66, transparent),
      var(--bg);
    color:var(--ink);
    font-family: system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
    line-height:1.65;
  }

  /* AppBar */
  .appbar{
    position:sticky; top:0; z-index:50;
    backdrop-filter:saturate(140%) blur(8px);
    background:linear-gradient(180deg,#ffffffee,#ffffffb3);
    border-bottom:1px solid var(--line);
  }
  .appbar-inner{max-width:960px;margin:0 auto;padding:10px 16px;display:flex;gap:12px;align-items:center}
  .title{font-weight:700; letter-spacing:.2px}
  .toolbar{margin-left:auto; display:flex; gap:8px}
  .btn{
    appearance:none; border:1px solid var(--line); color:var(--ink);
    background:#ffffff; padding:8px 12px; border-radius:10px; font-size:14px;
    box-shadow:var(--shadow);
  }
  .btn:active{transform:translateY(1px)}

  .container{max-width:960px; margin:16px auto 28px; padding:0 14px}

  /* ====== WEEK / ACCORDION ====== */
  .week{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); overflow:hidden; margin:14px 0; box-shadow:var(--shadow)}
  .week + .week{margin-top:16px}
  .week summary{list-style:none; cursor:pointer; padding:14px 16px; display:flex; align-items:center; justify-content:space-between; gap:10px; background:linear-gradient(180deg,#f8fbff, #ffffff)}
  .week summary::-webkit-details-marker{display:none}
  .tag{font-size:11px; color:var(--muted); border:1px solid var(--line); padding:2px 8px; border-radius:999px; background:#f8fafc}
  .chev{transition:.2s transform; color:var(--muted)}
  details[open] .chev{transform:rotate(180deg)}
  .panel{padding:8px 12px 16px}

  /* ====== TABLE (PC/タブレット) ====== */
  .table-wrap{overflow-x:auto; -webkit-overflow-scrolling:touch; border-radius:12px; border:1px solid var(--line)}
  table{width:100%; border-collapse:collapse; min-width:540px; background:#fff}
  th,td{border-bottom:1px solid var(--line); padding:10px 8px; text-align:center; white-space:nowrap}
  thead th{position:sticky; top:0; background:#eff6ff; color:#0b3e91; z-index:1}
  th{font-weight:700}
  td.day{font-weight:700; color:#0b3e91}

  /* 役割行の下地（淡グラデ） */
  td.upper{background:linear-gradient(180deg, color-mix(in oklab, var(--upper) 12%, #fff), #fff)}
  td.lower{background:linear-gradient(180deg, color-mix(in oklab, var(--lower) 12%, #fff), #fff)}
  td.vac  {background:linear-gradient(180deg, color-mix(in oklab, var(--vac)   12%, #fff), #fff)}

  /* メンバー名チップ：行の役割に応じて色縁取り */
  .chip{display:inline-block; background:var(--chip); border:1px solid var(--chip-line); padding:5px 10px; border-radius:999px; margin:2px; font-size:13px}
  td.upper .chip{border-color: color-mix(in oklab, var(--upper) 35%, var(--chip-line));}
  td.lower .chip{border-color: color-mix(in oklab, var(--lower) 35%, var(--chip-line));}
  td.vac   .chip{border-color: color-mix(in oklab, var(--vac)   35%, var(--chip-line));}

  /* ====== MOBILE CARDS ====== */
  .mobile-list{display:none; gap:10px; flex-direction:column}
  .card{background:var(--card); border:1px solid var(--line); border-radius:12px; padding:12px; box-shadow:var(--shadow)}
  .card .row{display:grid; grid-template-columns:90px 1fr; gap:8px; padding:8px 0; border-top:1px dashed #cbd5e1}
  .card .row:first-child{border-top:none}
  .label{font-size:12px; color:var(--muted); align-self:center}
  .value{display:flex; flex-wrap:wrap; gap:6px}
  .value .chip{background:#f3f6fb; border:1px solid #dae2f0; padding:6px 10px; border-radius:999px; font-size:14px}

  /* ====== INFO / STATS ====== */
  .section{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); padding:14px; margin:16px 0; box-shadow:var(--shadow)}
  .section h2{margin:0 0 8px; font-size:16px}
  .legend{display:flex; gap:8px; flex-wrap:wrap}
  .pill{border:1px solid var(--line); background:#f8fafc; padding:4px 8px; border-radius:999px; color:var(--muted); font-size:12px}
  .pill .num{font-weight:700; color:#0b3e91}
  .pill.upper{border-color: color-mix(in oklab, var(--upper) 35%, var(--line));}
  .pill.lower{border-color: color-mix(in oklab, var(--lower) 35%, var(--line));}
  .pill.vac  {border-color: color-mix(in oklab, var(--vac)   35%, var(--line));}

  .note{display:flex; gap:10px; background:#f7fbff; border:1px solid #d9e9ff; border-radius:10px; padding:10px; color:#0b3e91; font-size:14px}
  .note .icon{font-size:18px}

  /* 統計（PC=表 / スマホ=カード） */
  .stats-table{width:100%; border-collapse:collapse; background:#fff}
  .stats-table th,.stats-table td{border-bottom:1px solid var(--line); padding:10px 8px; text-align:center}
  .stats-grid{display:none; gap:10px}
  .stats-grid .card .row{grid-template-columns:90px 1fr}
  .stats-msg{margin-top:8px; color:#0b3e91}

  /* ====== BREAKPOINT ====== */
  @media (max-width: 640px){
    .toolbar .hide-sm{display:none}
    .table-wrap{display:none}        /* 週表はスマホでカード表示へ */
    .mobile-list{display:flex}

    .stats-table{display:none}       /* スマホで統計表を隠す */
    .stats-grid{display:grid}        /* スマホで統計カードを表示 */

    .appbar-inner{padding:10px 14px}
    .container{padding:0 12px}
  }

  :focus-visible{outline:2px solid var(--accent-2); outline-offset:2px; border-radius:6px}
</style>
</head>
<body>
  <header class="appbar">
    <div class="appbar-inner">
      <div class="title">🗑️ ゴミ回収ペア表（ライト＋役割カラー）</div>
      <div class="toolbar">
        <button class="btn" id="openAll">全て開く</button>
        <button class="btn" id="closeAll">全て閉じる</button>
        <button class="btn hide-sm" onclick="window.print()">PDF</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- ===== 第1週〜第5週（中身は従来どおり） ===== -->
    <!-- 第1週 -->
    <details class="week" open>
      <summary>第1週 <span class="tag">Mon-Fri</span><span class="chev">▾</span></summary>
      <div class="panel">
        <div class="table-wrap">
          <table>
            <thead><tr><th>曜日</th><th>上階</th><th>下階</th><th>バキューム</th></tr></thead>
            <tbody>
              <tr><td class="day">月</td><td class="upper"><span class="chip">逢坂</span><span class="chip">山本</span></td><td class="lower"><span class="chip">金丸</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">山城</span></td></tr>
              <tr><td class="day">火</td><td class="upper"><span class="chip">佐武</span><span class="chip">山城</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">金丸</span></td><td class="vac"><span class="chip">山本</span></td></tr>
              <tr><td class="day">水</td><td class="upper"><span class="chip">逢坂</span><span class="chip">佐武</span></td><td class="lower"><span class="chip">山本</span><span class="chip">山城</span></td><td class="vac"><span class="chip">金丸</span></td></tr>
              <tr><td class="day">木</td><td class="upper"><span class="chip">山本</span><span class="chip">金丸</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">山城</span></td><td class="vac"><span class="chip">佐武</span></td></tr>
              <tr><td class="day">金</td><td class="upper"><span class="chip">金丸</span><span class="chip">山城</span></td><td class="lower"><span class="chip">山本</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">逢坂</span></td></tr>
            </tbody>
          </table>
        </div>
        <div class="mobile-list"></div>
      </div>
    </details>

    <!-- 第2週 -->
    <details class="week">
      <summary>第2週 <span class="tag">Mon-Fri</span><span class="chev">▾</span></summary>
      <div class="panel">
        <div class="table-wrap">
          <table>
            <thead><tr><th>曜日</th><th>上階</th><th>下階</th><th>バキューム</th></tr></thead>
            <tbody>
              <tr><td class="day">月</td><td class="upper"><span class="chip">佐武</span><span class="chip">山城</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">金丸</span></td><td class="vac"><span class="chip">山本</span></td></tr>
              <tr><td class="day">火</td><td class="upper"><span class="chip">逢坂</span><span class="chip">佐武</span></td><td class="lower"><span class="chip">山本</span><span class="chip">山城</span></td><td class="vac"><span class="chip">金丸</span></td></tr>
              <tr><td class="day">水</td><td class="upper"><span class="chip">山本</span><span class="chip">金丸</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">山城</span></td><td class="vac"><span class="chip">佐武</span></td></tr>
              <tr><td class="day">木</td><td class="upper"><span class="chip">金丸</span><span class="chip">山城</span></td><td class="lower"><span class="chip">山本</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">逢坂</span></td></tr>
              <tr><td class="day">金</td><td class="upper"><span class="chip">逢坂</span><span class="chip">山本</span></td><td class="lower"><span class="chip">金丸</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">山城</span></td></tr>
            </tbody>
          </table>
        </div>
        <div class="mobile-list"></div>
      </div>
    </details>

    <!-- 第3週 -->
    <details class="week">
      <summary>第3週 <span class="tag">Mon-Fri</span><span class="chev">▾</span></summary>
      <div class="panel">
        <div class="table-wrap">
          <table>
            <thead><tr><th>曜日</th><th>上階</th><th>下階</th><th>バキューム</th></tr></thead>
            <tbody>
              <tr><td class="day">月</td><td class="upper"><span class="chip">逢坂</span><span class="chip">佐武</span></td><td class="lower"><span class="chip">山本</span><span class="chip">山城</span></td><td class="vac"><span class="chip">金丸</span></td></tr>
              <tr><td class="day">火</td><td class="upper"><span class="chip">山本</span><span class="chip">金丸</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">山城</span></td><td class="vac"><span class="chip">佐武</span></td></tr>
              <tr><td class="day">水</td><td class="upper"><span class="chip">金丸</span><span class="chip">山城</span></td><td class="lower"><span class="chip">山本</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">逢坂</span></td></tr>
              <tr><td class="day">木</td><td class="upper"><span class="chip">逢坂</span><span class="chip">山本</span></td><td class="lower"><span class="chip">金丸</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">山城</span></td></tr>
              <tr><td class="day">金</td><td class="upper"><span class="chip">佐武</span><span class="chip">山城</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">金丸</span></td><td class="vac"><span class="chip">山本</span></td></tr>
            </tbody>
          </table>
        </div>
        <div class="mobile-list"></div>
      </div>
    </details>

    <!-- 第4週 -->
    <details class="week">
      <summary>第4週 <span class="tag">Mon-Fri</span><span class="chev">▾</span></summary>
      <div class="panel">
        <div class="table-wrap">
          <table>
            <thead><tr><th>曜日</th><th>上階</th><th>下階</th><th>バキューム</th></tr></thead>
            <tbody>
              <tr><td class="day">月</td><td class="upper"><span class="chip">山本</span><span class="chip">金丸</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">山城</span></td><td class="vac"><span class="chip">佐武</span></td></tr>
              <tr><td class="day">火</td><td class="upper"><span class="chip">金丸</span><span class="chip">山城</span></td><td class="lower"><span class="chip">山本</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">逢坂</span></td></tr>
              <tr><td class="day">水</td><td class="upper"><span class="chip">逢坂</span><span class="chip">山本</span></td><td class="lower"><span class="chip">金丸</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">山城</span></td></tr>
              <tr><td class="day">木</td><td class="upper"><span class="chip">佐武</span><span class="chip">山城</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">金丸</span></td><td class="vac"><span class="chip">山本</span></td></tr>
              <tr><td class="day">金</td><td class="upper"><span class="chip">逢坂</span><span class="chip">佐武</span></td><td class="lower"><span class="chip">山本</span><span class="chip">山城</span></td><td class="vac"><span class="chip">金丸</span></td></tr>
            </tbody>
          </table>
        </div>
        <div class="mobile-list"></div>
      </div>
    </details>

    <!-- 第5週 -->
    <details class="week">
      <summary>第5週 <span class="tag">Mon-Fri</span><span class="chev">▾</span></summary>
      <div class="panel">
        <div class="table-wrap">
          <table>
            <thead><tr><th>曜日</th><th>上階</th><th>下階</th><th>バキューム</th></tr></thead>
            <tbody>
              <tr><td class="day">月</td><td class="upper"><span class="chip">逢坂</span><span class="chip">山本</span></td><td class="lower"><span class="chip">金丸</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">山城</span></td></tr>
              <tr><td class="day">火</td><td class="upper"><span class="chip">佐武</span><span class="chip">山城</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">金丸</span></td><td class="vac"><span class="chip">山本</span></td></tr>
              <tr><td class="day">水</td><td class="upper"><span class="chip">山本</span><span class="chip">金丸</span></td><td class="lower"><span class="chip">逢坂</span><span class="chip">山城</span></td><td class="vac"><span class="chip">佐武</span></td></tr>
              <tr><td class="day">木</td><td class="upper"><span class="chip">逢坂</span><span class="chip">佐武</span></td><td class="lower"><span class="chip">山本</span><span class="chip">山城</span></td><td class="vac"><span class="chip">金丸</span></td></tr>
              <tr><td class="day">金</td><td class="upper"><span class="chip">金丸</span><span class="chip">山城</span></td><td class="lower"><span class="chip">山本</span><span class="chip">佐武</span></td><td class="vac"><span class="chip">逢坂</span></td></tr>
            </tbody>
          </table>
        </div>
        <div class="mobile-list"></div>
      </div>
    </details>

    <!-- 詳細（数字は強調色で） -->
    <section class="section">
      <h2>📋 各項目の詳細</h2>
      <div class="legend" style="margin-bottom:6px">
        <span class="pill upper">上階：<span class="num">17F</span>〜<span class="num">15F</span></span>
        <span class="pill lower">下階：<span class="num">14F</span>〜<span class="num">11F</span>（木曜のみ <span class="num">14F</span>〜<span class="num">12F</span>）</span>
        <span class="pill vac">バキューム：<span class="num">月・水・金</span>→<span class="num">17F</span> / <span class="num">火</span>→<span class="num">10F</span> / <span class="num">木</span>→<span class="num">11F</span></span>
      </div>
      <div class="note" style="margin-top:10px">
        <div class="icon">💡</div>
        <div>木曜日は下階の作業範囲が3フロア（<span class="num">14F</span>〜<span class="num">12F</span>）。全員の負担を均等化する目的で<strong>5週間1サイクル</strong>のローテーションを採用しています。</div>
      </div>
    </section>

    <!-- 統計（PC=表 / スマホ=カード） -->
    <section class="section">
      <h2>📊 5週間の担当回数（合計）</h2>
      <div class="table-wrap">
        <table class="stats-table">
          <thead><tr><th>メンバー</th><th>上階</th><th>下階</th><th>バキューム</th><th>合計</th></tr></thead>
          <tbody>
            <tr><td>逢坂</td><td>10回</td><td>10回</td><td>5回</td><td>25回</td></tr>
            <tr><td>山本</td><td>10回</td><td>10回</td><td>5回</td><td>25回</td></tr>
            <tr><td>金丸</td><td>10回</td><td>10回</td><td>5回</td><td>25回</td></tr>
            <tr><td>佐武</td><td>10回</td><td>10回</td><td>5回</td><td>25回</td></tr>
            <tr><td>山城</td><td>10回</td><td>10回</td><td>5回</td><td>25回</td></tr>
          </tbody>
        </table>
      </div>
      <!-- スマホ用カード -->
      <div class="stats-grid" aria-hidden="true"></div>

      <!-- ★ ご指定の文面（復活） -->
      <p class="stats-msg">
        全メンバーが<strong>25回</strong>の業務を担当し、バキューム業務は各メンバー<strong>5回ずつ</strong>均等に配分されています。木曜日の下階業務範囲調整により、業務負担の公平性が保たれています。
      </p>
    </section>
  </main>

  <script>
    // === 週テーブル -> モバイルカード化 ===
    function buildMobileCards(weekEl){
      const table = weekEl.querySelector("table");
      const list  = weekEl.querySelector(".mobile-list");
      if(!table || !list) return;
      list.innerHTML = "";
      const rows = Array.from(table.tBodies[0].rows);
      rows.forEach(tr=>{
        const day   = tr.cells[0].textContent.trim();
        const upper = tr.cells[1].innerHTML;
        const lower = tr.cells[2].innerHTML;
        const vac   = tr.cells[3].innerHTML;
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="row"><div class="label">曜日</div><div class="value"><span class="chip">${day}</span></div></div>
          <div class="row"><div class="label">上階</div><div class="value">${upper}</div></div>
          <div class="row"><div class="label">下階</div><div class="value">${lower}</div></div>
          <div class="row"><div class="label">バキューム</div><div class="value">${vac}</div></div>
        `;
        list.appendChild(card);
      });
    }

    // === 統計テーブル -> スマホカード ===
    function buildStatsCards(){
      const t = document.querySelector(".stats-table");
      const grid = document.querySelector(".stats-grid");
      if(!t || !grid) return;
      grid.innerHTML = "";
      const rows = Array.from(t.tBodies[0].rows);
      rows.forEach(r=>{
        const [name, up, low, vac, tot] = Array.from(r.cells).map(td=>td.textContent.trim());
        const c = document.createElement("div");
        c.className = "card";
        c.innerHTML = `
          <div class="row"><div class="label">メンバー</div><div class="value"><span class="chip">${name}</span></div></div>
          <div class="row"><div class="label">上階</div><div class="value"><span class="chip">${up}</span></div></div>
          <div class="row"><div class="label">下階</div><div class="value"><span class="chip">${low}</span></div></div>
          <div class="row"><div class="label">バキューム</div><div class="value"><span class="chip">${vac}</span></div></div>
          <div class="row"><div class="label">合計</div><div class="value"><span class="chip">${tot}</span></div></div>
        `;
        grid.appendChild(c);
      });
    }

    // 初期化
    document.querySelectorAll("details.week").forEach(buildMobileCards);
    buildStatsCards();

    // 開閉ボタン
    document.getElementById("openAll").addEventListener("click", ()=> {
      document.querySelectorAll("details.week").forEach(d=>d.open = true);
    });
    document.getElementById("closeAll").addEventListener("click", ()=> {
      document.querySelectorAll("details.week").forEach(d=>d.open = false);
    });

    // 向き変更等で再生成
    let lastW = window.innerWidth;
    window.addEventListener("resize", ()=>{
      if (Math.abs(window.innerWidth - lastW) > 80){
        document.querySelectorAll("details.week").forEach(buildMobileCards);
        buildStatsCards();
        lastW = window.innerWidth;
      }
    }, {passive:true});
  </script>
</body>
</html>
